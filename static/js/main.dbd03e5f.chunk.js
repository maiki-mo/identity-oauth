(this["webpackJsonpidentity-oauth-ui"]=this["webpackJsonpidentity-oauth-ui"]||[]).push([[0],{20:function(n,e,t){n.exports=t.p+"static/media/old-rocket.971ef1d4.png"},40:function(n,e,t){n.exports=t.p+"static/media/check.dfcec944.svg"},46:function(n,e,t){n.exports=t(75)},51:function(n,e,t){},75:function(n,e,t){"use strict";t.r(e);var r,a=t(8),i=t(9),o=t(11),c=t(10),u=t(12),l=t(0),s=t.n(l),d=t(36),p=t.n(d),f=t(18),h=t(14),m=(t(51),t(3)),g=t.n(m),v=t(2),x=t(1),b=t(37),y="(min-width: 501px)",w="(max-width: 500px)",E="#00FD97",k="#FFFFFF",j="#212121",O="#171717",C="#CCCCCC",R="#909090",I="#545454",z="#D45757",N={data:[{request:"Access your username and avatar",response:"jimmysupreme"},{request:"Access your email address",response:"james@jigsaw.xyz"},{request:"Access your phone number",response:"(917) 123-1234"}],getConsumerToken:function(){return r},setConsumerToken:function(n){return r=n,!0}},T={us:"1",gb:"44"};function A(){var n=Object(v.a)(["\n  // color: ",";\n  color: white\n  font-family: Raleway, sans-serif;\n  font-size: 14px;\n  font-weight: ",";\n  text-align: center;\n  letter-spacing: 2px;\n\n  @media "," {\n    font-size: 2.5vmin;\n  }\n"]);return A=function(){return n},n}function S(){var n=Object(v.a)(["\n  height: 44px;\n  width: ",";\n  cursor: pointer;\n  box-sizing: border-box;\n  border-width: 1px;\n  border-style: solid;\n  border-color: ",";\n  outline: 0;\n  background-color: rgb(85, 185, 73);\n\n  @media "," {\n    &:hover {\n      background-color: ",";\n    }\n  \n    &:active {\n      background-color: ",";\n    }\n  }\n\n  @media "," {\n    height: 48px;\n    width: ",";;\n  }\n"]);return S=function(){return n},n}var V=y,L=w,P=E,U=j,D=k,M=x.default.button(S(),(function(n){return n.width||"200px"}),(function(n){n.primary;return"white"}),V,(function(n){return n.primary?"rgba(0, 253, 151, 0.7)":U}),(function(n){return n.primary?"rgba(0, 253, 151, 0.5)":U}),L,(function(n){return n.width||"50%"})),B=x.default.div(A(),(function(n){return n.primary?P:D}),(function(n){return n.primary?"700":"400"}),L),F=function(n){var e=n.text,t=n.primary,r=n.width,a=n.onClick;return s.a.createElement(M,{type:"submit",primary:t,width:r,onClick:a},s.a.createElement(B,{primary:t},e.toUpperCase()))};F.defaultProps={text:"BUTTON",primary:!1,onClick:function(){return console.log("CLICKING")}};var q=F;function W(){var n=Object(v.a)(["\n  text-align: center;\n  font-family: Raleway, sans-serif;\n  font-size: 10px;\n  font-weight: 700;\n  letter-spacing: 1.5px;\n  color: ",";\n\n  @media "," {\n    font-size: 2.7vmin;\n  }\n"]);return W=function(){return n},n}function Y(){var n=Object(v.a)(["\n  display: flex;\n  align-items: flex-end;\n  background-color: white;\n  text-align: center;\n  height: 30px;\n"]);return Y=function(){return n},n}var K=w,G=x.default.div(Y()),H=x.default.div(W(),C,K),J=function(n){var e=n.merchant;return s.a.createElement(G,null,s.a.createElement(H,null,"THIS WILL ALLOW ".concat(e," TO")))};function Z(){var n=Object(v.a)(["\n  height: 75px;\n  border-radius: 7px;\n  \n  @media "," {\n    height: 19vmin;\n  }\n"]);return Z=function(){return n},n}function $(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: ",";\n  border-radius: 8px;\n  padding: 9px;\n"]);return $=function(){return n},n}function Q(){var n=Object(v.a)(["\n  font-size: 44px;\n  font-family: Raleway, sans-serif;\n  font-weight: 800;\n  letter-spacing: 3px;\n  color: ",";\n  white-space: nowrap;  \n  overflow: hidden; \n  text-overflow: ellipsis;\n  max-width: 8em;\n\n  @media "," {\n    letter-spacing: 2px;\n    font-size: 8vmin;\n  }\n"]);return Q=function(){return n},n}function X(){var n=Object(v.a)(["\n  color: ",";\n  font-size: 14px;\n  font-family: Raleway, sans-serif;\n  letter-spacing: 1.5px;\n\n  @media "," {\n    font-size: 2.7vmin;\n  }\n"]);return X=function(){return n},n}function _(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n"]);return _=function(){return n},n}function nn(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 135px;\n  padding: 0px 20px;\n  background-color: ",";\n"]);return nn=function(){return n},n}function en(){var n=Object(v.a)(["\n  width: 96%;\n  height: 2px;\n  background-color: ",";\n  margin: auto;\n"]);return en=function(){return n},n}function tn(){var n=Object(v.a)(["\n  flex-direction: column;\n  background-color : ",";\n"]);return tn=function(){return n},n}t(20);var rn=w,an=E,on=j,cn=I,un=(x.default.div(tn(),on),x.default.div(en(),an),x.default.div(nn(),on),x.default.div(_()),x.default.div(X(),an,rn),x.default.div(Q(),an,rn),x.default.div($(),cn),x.default.img(Z(),rn),t(40)),ln=t.n(un);function sn(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 12px;\n  letter-spacing: 1.5px;\n  color: #545454;\n\n  @media "," {\n    font-size: 2.8vmin;\n  }\n"]);return sn=function(){return n},n}function dn(){var n=Object(v.a)(["\n  color: black;\n  font-family: Raleway, sans-serif;\n  font-size: 12px;\n  margin-bottom: 5px;\n  padding: 10px 0px;\n  letter-spacing: 1.5px;\n\n  @media "," {\n    font-size: 2.8vmin;\n    margin-bottom: 3px;\n  }\n"]);return dn=function(){return n},n}function pn(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  margin: 0px 10px 0px 20px;\n  // height: 70px;\n  width: 100%;\n  border-bottom: 1px solid black;\n"]);return pn=function(){return n},n}function fn(){var n=Object(v.a)(["\n  height: 40px;\n\n  @media "," {\n    height: 10vmin;\n  }\n"]);return fn=function(){return n},n}function hn(){var n=Object(v.a)(["\n  display: flex;\n  align-items: center;\n  background-color: white;\n"]);return hn=function(){return n},n}var mn=w,gn=x.default.div(hn()),vn=x.default.img(fn(),mn),xn=x.default.div(pn()),bn=x.default.div(dn(),mn),yn=x.default.div(sn(),mn),wn=function(n){var e=n.request,t=n.response;return s.a.createElement(gn,null,s.a.createElement(vn,{src:ln.a,alt:"IMAGE"}),s.a.createElement(xn,null,s.a.createElement(bn,null,e.toUpperCase()),s.a.createElement(yn,null,t.toUpperCase())))};wn.defaultProps={request:"Request for permission here",response:"Response for permission"};var En=wn;function kn(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 9px;\n  letter-spacing: 1px;\n  color: ",";\n  text-align: center;\n\n\n  @media "," {\n    font-size: 2.5vmin;\n  }\n"]);return kn=function(){return n},n}function jn(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 30px;\n  background-color: white;\n"]);return jn=function(){return n},n}var On=x.default.div(jn()),Cn=x.default.div(kn(),R,w),Rn=function(){return s.a.createElement(On,null,s.a.createElement(Cn,null,"FOR MORE INFORMATION REGARDING TERMS AND AGREEMENT PLEASE CLICK",s.a.createElement("span",{style:{fontWeight:"800"}}," HERE")))},In=t(20),zn=t.n(In),Nn=t(15),Tn=t.n(Nn),An=N.getConsumerToken,Sn="http://52.23.163.152/",Vn={auth:{authIdentifier:function(n,e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(Tn()({method:"get",url:"".concat(Sn).concat("v1/","auth/identifiers/").concat(n,"/").concat(e),headers:{"content-type":"application/json",consumer:An()}}).catch((function(n){return n.response})));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn("error authing identififer",t.t0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,6]])},addIdentifier:function(n,e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(Tn()({method:"post",url:"".concat(Sn).concat("v1/","auth/identifiers"),data:{type:n,value:e},headers:{"content-type":"application/json"}}).catch((function(n){return n.response})));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn("error adding identifier",t.t0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,6]])},getPermissions:function(){return g.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,g.a.awrap(Tn()({method:"get",url:"".concat(Sn).concat("v1/","auth/permissions/").concat(An())}).catch((function(n){return n.response})));case 3:return n.abrupt("return",n.sent);case 6:return n.prev=6,n.t0=n.catch(0),console.warn("error getting permissions",n.t0),n.abrupt("return",n.t0);case 10:case"end":return n.stop()}}),null,null,[[0,6]])},grantAuths:function(n,e){return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(Tn()({method:"post",url:"".concat(Sn).concat("v1/","auth/grants"),data:{identity:n,consumer:An(),grants:e}}).catch((function(n){return n.response})));case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),console.warn("erroring granting auths",t.t0),t.abrupt("return",t.t0);case 10:case"end":return t.stop()}}),null,null,[[0,6]])}}},Ln=function(n){var e,t;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.code,t=n.identifier,r.prev=1,r.next=4,g.a.awrap(Tn()({method:"patch",url:"".concat("https://identity-notif.ddns.net/").concat("code"),data:{code:e,identifier:t}}).catch((function(n){return n.response})));case 4:return r.abrupt("return",r.sent);case 7:return r.prev=7,r.t0=r.catch(1),console.log("error verifying code",r.t0),r.abrupt("return",r.t0);case 11:case"end":return r.stop()}}),null,null,[[1,7]])};function Pn(){var n=Object(v.a)(["\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid ",";\n  box-sizing: border-box;\n  border-radius: 0px;\n  -webkit-transition: 0.5s;\n  font-family: Raleway, sans-serif;\n  font-size: 18px;\n  letter-spacing: 2px;\n  color: black;\n  background-color: white;\n  outline: none;\n  \n  @media "," {\n    width: 80%;\n  }\n\n  &:focus {\n    border: 1px solid black;\n  }\n"]);return Pn=function(){return n},n}function Un(){var n=Object(v.a)(["\n  padding: 11px 10px;\n  margin: 8px 0;\n  -webkit-appearance: none;\n  -webkit-border-radius: 0px;\n  box-sizing: border-box;\n  -webkit-transition: 0.5s;\n  color: black;\n  font-family: Raleway, sans-serif;\n  font-size: 18px;\n  letter-spacing: 2px;\n  background-color: white;\n  border: 1px solid ",";\n  outline: none;\n\n  &:focus {\n    border: 1px solid black;\n  }\n"]);return Un=function(){return n},n}function Dn(){var n=Object(v.a)(["\n  display: flex;\n  width: 80%;\n  justify-content: center;\n"]);return Dn=function(){return n},n}function Mn(){var n=Object(v.a)(["\n  width: 60%;\n  padding: 12px 20px;\n  margin: 8px 0;\n  display: inline-block;\n  border: 1px solid black;\n  border-radius: 0px;\n  box-sizing: border-box;\n  -webkit-transition: 0.5s;\n  font-family: Raleway, sans-serif;\n  font-size: 18px;\n  letter-spacing: 2px;\n  color: black;\n  background-color: white;\n  outline: none;\n  overflow: hidden\n  text-overflow: ellipsis\n  white-space: nowrap\n\n  &:focus {\n    border: 1px solid black;\n  }\n\n  @media "," {\n    width: 80%;\n  }\n"]);return Mn=function(){return n},n}function Bn(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 12px;\n  color: ",";\n  text-align: center;\n  letter-spacing: 2px;\n  width: 90vw;\n  margin-top: 13px;\n\n  @media "," {\n    font-size 3.2vmin;\n  }\n"]);return Bn=function(){return n},n}function Fn(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  margin-top: 10px;\n  width: 80%;\n"]);return Fn=function(){return n},n}function qn(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  height: 180px;\n  width: 100%;\n"]);return qn=function(){return n},n}function Wn(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 16px;\n  color: black;\n  text-align: center;\n  letter-spacing: 2px;\n  width: 95%;\n\n  @media "," {\n    font-size 5vmin;\n  }\n"]);return Wn=function(){return n},n}function Yn(){var n=Object(v.a)(["\n  margin-top: 30px;\n  width: 100%;\n  color: rgb(85, 185, 73);\n  text-align: center;\n  font-family: Raleway, sans-serif;\n  font-size: 30px;\n  font-weight: 700;\n  letter-spacing: 2px;\n\n  @media "," {\n    font-size: 9vmin;\n  }\n"]);return Yn=function(){return n},n}function Kn(){var n=Object(v.a)(["\n  height: 110px;\n  width: 380px;\n  border-radius: 8px;\n\n  @media "," {\n    height: 30vmin;\n  }\n"]);return Kn=function(){return n},n}function Gn(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: white;\n  border-radius: 8px;\n  padding: 10px;\n"]);return Gn=function(){return n},n}function Hn(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  background-color: white;\n  \n  @media "," {\n    width: 500px;\n    height: 450px;\n    overflow: hidden;\n    box-shadow: 2px 2px 6px black;\n  }\n\n  @media "," {\n    height: 100%;\n  }\n"]);return Hn=function(){return n},n}function Jn(){var n=Object(v.a)(["\n  background-color: white;\n\n  @media "," {\n    display: flex;\n    min-height: 100vh;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media "," {\n    height: 100vh;\n  }\n"]);return Jn=function(){return n},n}var Zn=N.setConsumerToken,$n=function(n){var e,t;return g.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return e=n.type,t=n.identifier,console.log(e,t),r.prev=2,r.next=5,g.a.awrap(Tn()({method:"post",url:"".concat("https://identity-notif.ddns.net/").concat("code"),data:{type:e,identifier:t}}).catch((function(n){return n.response})));case 5:return r.abrupt("return",r.sent);case 8:return r.prev=8,r.t0=r.catch(2),console.log("error requesting code",r.t0),r.abrupt("return",r.t0);case 12:case"end":return r.stop()}}),null,null,[[2,8]])},Qn=Vn.auth.authIdentifier,Xn=y,_n=w,ne=C,ee=z,te=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,re=x.default.div(Jn(),Xn,_n),ae=x.default.div(Hn(),Xn,_n),ie=x.default.div(Gn()),oe=x.default.img(Kn(),_n),ce=x.default.div(Yn(),_n),ue=x.default.div(Wn(),_n),le=x.default.form(qn()),se=x.default.div(Fn()),de=x.default.div(Bn(),ee,_n),pe=x.default.input(Mn(),_n),fe=x.default.div(Dn()),he=x.default.select(Un(),ne),me=Object(x.default)(b.a)(Pn(),ne,_n),ge=function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=Object(o.a)(this,(n=Object(c.a)(e)).call.apply(n,[this].concat(i)))).state={type:"",typeText:"",country:"us",isNotValid:!1,phoneRawValue:"",emailRawValue:""},t.setConsumerToken=function(){var n=t.inputConsumerToken.value;Zn(n)},t.renderOptions=function(){var n=[];for(var e in T){var r=T[e];n.push(s.a.createElement("option",{key:e,value:e},"+".concat(r)))}return s.a.createElement(he,{onChange:t.onCountryChange},n)},t.invalidInput=function(){return"PLEASE MAKE SURE YOU HAVE ENTERED YOUR ".concat(t.state.typeText," CORRECTLY")},t.nextPath=function(n,e){t.props.history.push(n,e)},t.onEmailChange=function(n){t.setState({emailRawValue:n.target.value,isNotValid:!1})},t.onPhoneChange=function(n){t.setState({phoneRawValue:n.value,isNotValid:!1})},t.onCountryChange=function(n){t.setState({country:n.target.value})},t.checkIdentifier=function(n,e){var r,a;return g.a.async((function(i){for(;;)switch(i.prev=i.next){case 0:return r=t.props.toggleLoader,i.next=3,g.a.awrap(Qn(n,e));case 3:200===(a=i.sent).status?a.data.needsAuth?t.sendNotification(n,e):(t.nextPath("/auth/complete",a.data),r(!1)):(console.warn("Couldnt auth identifier"),t.setState({isNotValid:"Coudlnt auth identifier"}),r(!1));case 5:case"end":return i.stop()}}))},t.sendNotification=function(n,e){var r,a,i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return r=t.props.toggleLoader,o.prev=1,o.next=4,g.a.awrap($n({type:n,identifier:e}));case 4:200===(a=o.sent).status?t.nextPath("/auth/verify",{type:n,identifier:e}):(i=a.data.error.description,t.setState({isNotValid:i}),console.warn("there was a problem")),r(!1),o.next=14;break;case 9:o.prev=9,o.t0=o.catch(1),r(!1),t.setState({isNotValid:"something went wrong"}),console.log("something went wrong",o.t0);case 14:case"end":return o.stop()}}),null,null,[[1,9]])},t.onSubmit=function(n){n.preventDefault();var e=t.state,r=e.type,a=e.emailRawValue,i=e.phoneRawValue,o=t.props.toggleLoader,c="phone"===r?i:a;"email"===r&&(te.test(String(a).toLowerCase())?(o(!0),t.checkIdentifier(r,c)):t.setState({isNotValid:t.invalidInput()})),"phone"===r&&(console.warn(r),10===i.length?(o(!0),t.checkIdentifier(r,c)):t.setState({isNotValid:t.invalidInput()}))},t}return Object(u.a)(e,n),Object(i.a)(e,[{key:"componentWillMount",value:function(){(0,this.props.toggleLoader)(!0)}},{key:"componentDidMount",value:function(){var n=this;setTimeout((function(){var e=n.props.toggleLoader,t=n.inputIdentifierType.value,r=n.inputIdentifierValue.value;n.setConsumerToken();var a="phone"===t?"PHONE NUMBER":"EMAIL";n.setState({type:t,typeText:a}),t&&r?n.checkIdentifier(t,r):e(!1)}),1e3)}},{key:"render",value:function(){var n=this,e=this.state,t=e.type,r=e.typeText,a=e.country,i=e.isNotValid,o=e.emailRawValue,c=e.phoneRawValue,u="(555) 555-5555",l="(###) ###-####";return"gb"===a&&(u="7911 123456",l="#### ######"),s.a.createElement(re,null,s.a.createElement(ae,null,s.a.createElement(ce,null,"NCR IDENTITY"),s.a.createElement(ie,null,s.a.createElement(oe,{src:zn.a,alt:"AVATAR"})),s.a.createElement(ue,null,"PLEASE ENTER YOUR ".concat(r," BELOW")),s.a.createElement(le,{onSubmit:this.onSubmit},"phone"===t?s.a.createElement(fe,null,this.renderOptions(),s.a.createElement(me,{value:c,type:"tel",format:l,placeholder:u,onValueChange:this.onPhoneChange})):s.a.createElement(pe,{value:o,type:"email",onChange:this.onEmailChange,placeholder:"jimmysupreme@gmail.com"}),s.a.createElement(se,null,s.a.createElement(q,{primary:!0,onClick:this.onSubmit,text:"SUBMIT"}),i&&s.a.createElement(de,null,i))),s.a.createElement("input",{type:"hidden",id:"input-identifier-type",ref:function(e){n.inputIdentifierType=e}}),s.a.createElement("input",{type:"hidden",id:"input-identifier-value",ref:function(e){n.inputIdentifierValue=e}}),s.a.createElement("input",{type:"hidden",id:"input-consumer-token",ref:function(e){n.inputConsumerToken=e}})))}}]),e}(l.Component),ve=Object(h.e)(ge);function xe(){var n=Object(v.a)(["\n  @media "," {\n    text-align: center;\n    width: 500px;\n    overflow: hidden;\n    box-shadow: 2px 2px 6px black;\n  }\n\n  @media "," {\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n  }\n"]);return xe=function(){return n},n}function be(){var n=Object(v.a)(["\n  background-color: white;\n\n  @media "," {\n    display: flex;\n    min-height: 100vh;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media "," {\n    height: 100vh;\n  }\n"]);return be=function(){return n},n}function ye(){var n=Object(v.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100px;\n  padding: 0px 20px;\n  background-color: white;\n"]);return ye=function(){return n},n}function we(){var n=Object(v.a)(["\n  display: inline-block;\n  height: 40vh;\n  background-color: white;\n  padding: 0px 20px;\n  overflow-y: scroll;\n\n  @media "," {\n    flex: 1;\n  }\n"]);return we=function(){return n},n}function Ee(){var n=Object(v.a)(["\n  margin: 0 auto;\n  margin-top: 50px;\n  height: 110px;\n  width: 380px;\n  border-radius: 8px;\n\n  @media "," {\n    height: 30vmin;\n  }\n"]);return Ee=function(){return n},n}var ke=Vn.auth,je=ke.getPermissions,Oe=ke.grantAuths,Ce=y,Re=w,Ie=x.default.img(Ee(),Re),ze=x.default.div(we(),Re),Ne=x.default.div(ye()),Te=x.default.div(be(),Ce,Re),Ae=x.default.div(xe(),Ce,Re),Se=function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=Object(o.a)(this,(n=Object(c.a)(e)).call.apply(n,[this].concat(i)))).state={permissions:[]},t.nextPath=function(n,e){t.props.history.push(n,e)},t.list=function(){return t.state.permissions.map((function(n){var e=n.consumer,t=n.scope,r=n.read,a=n.write;return s.a.createElement(En,{key:"".concat(t.id).concat(e.id),request:"".concat(t.name," -   \n          ").concat(r.required?"Read access":"","\n          ").concat(r.required&&a.required?" & ":"","\n          ").concat(a.required?"Write access":""),response:"".concat(t.description)})}))},t.submit=function(){var n,e,r,a,i;return g.a.async((function(o){for(;;)switch(o.prev=o.next){case 0:return n=t.props,e=n.toggleLoader,r=n.history.location.state.identityId,a=t.state.permissions,o.prev=2,e(!0),o.next=6,g.a.awrap(Oe(r,a.map((function(n){return{scope:n.scope.name,read:!0,write:!0,share:!0}}))));case 6:201===(i=o.sent).status?t.nextPath("/auth/complete",i.data):console.warn("something went wrong"),e(!1),o.next=15;break;case 11:o.prev=11,o.t0=o.catch(2),e(!1),console.warn(o.t0);case 15:case"end":return o.stop()}}),null,null,[[2,11]])},t}return Object(u.a)(e,n),Object(i.a)(e,[{key:"componentDidMount",value:function(){var n,e;return g.a.async((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,g.a.awrap(je());case 3:200===(n=t.sent).status?(e=n.data.permissions,this.setState({permissions:e})):console.warn("something went wrong"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.warn(t.t0);case 10:case"end":return t.stop()}}),null,this,[[0,7]])}},{key:"render",value:function(){var n=this;return s.a.createElement(Te,null,s.a.createElement(Ae,null,s.a.createElement(Ie,{src:zn.a,alt:"AVATAR"}),s.a.createElement(ze,null,s.a.createElement(J,{merchant:"NCR IDENTITY"}),this.list()),s.a.createElement(Rn,null),s.a.createElement(Ne,null,s.a.createElement(q,{text:"CANCEL",onClick:function(){return n.nextPath("/auth/complete",{})}}),s.a.createElement(q,{primary:!0,text:"AUTHORIZE",onClick:this.submit}))))}}]),e}(l.Component);Se.defaultProps={permissions:N.data};var Ve=Object(h.e)(Se);function Le(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 14px;\n  color: ",";\n  letter-spacing: 2px;\n  background: none;\n  border: none;\n  margin-bottom: 10px;\n"]);return Le=function(){return n},n}function Pe(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 12px;\n  color: ",";\n  text-align: center;\n  letter-spacing: 2px;\n  width: 95%;\n  margin-top: 13px;\n\n  @media "," {\n    font-size 3.2vmin;\n  }\n"]);return Pe=function(){return n},n}function Ue(){var n=Object(v.a)(["\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  right: 0;\n  box-shadow: 0 0 0 2px black;\n"]);return Ue=function(){return n},n}function De(){var n=Object(v.a)(["\n  position: absolute;\n  top: 0px;\n  bottom: 0px;\n  left: ","px;\n  width: 60px;\n  opacity: ",";\n  border: none;\n  font-size: 40px;\n  text-align: center;\n  background-color: transparent;\n  outline: none;\n  color: black;\n\n  &::-webkit-outer-spin-button,\n  &::-webkit-inner-spin-button {\n    -webkit-appearance: none; \n    margin: 0;\n  }\n\n  &[type=number] {\n    -moz-appearance: textfield;\n  }\n\n  @media "," {\n    font-size: 24px;\n    width: 40px;\n    left: ","px;\n  }\n"]);return De=function(){return n},n}function Me(){var n=Object(v.a)(["\n  border: 1px solid black;\n  display: inline-block;\n  position: relative;\n  display: flex;\n"]);return Me=function(){return n},n}function Be(){var n=Object(v.a)(["\n  border-right: 1px solid ",";\n  width: 60px;\n  height: 60px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  font-size: 40px;\n  position: relative;\n  color: black;\n\n  @media "," {\n    width: 40px;\n    height: 40px;\n    font-size: 24px;\n  }\n\n  &:last-child {\n    border-right: none;\n  }\n"]);return Be=function(){return n},n}function Fe(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start;\n  align-items: center;\n  height: 100px;\n"]);return Fe=function(){return n},n}function qe(){var n=Object(v.a)(["\n  font-family: Raleway, sans-serif;\n  font-size: 16px;\n  color: black;\n  text-align: center;\n  letter-spacing: 2px;\n  width: 95%;\n\n  @media "," {\n    font-size 5vmin;\n  }\n"]);return qe=function(){return n},n}function We(){var n=Object(v.a)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: space-evenly;\n  align-items: center;\n  background-color: white;\n  \n  @media "," {\n    width: 450px;\n    height: 350px;\n    overflow: hidden;\n    box-shadow: 2px 2px 6px black;\n  }\n\n  @media "," {\n    height: 100%;\n  }\n"]);return We=function(){return n},n}function Ye(){var n=Object(v.a)(["\n  background-color: ",";\n\n  @media "," {\n    display: flex;\n    min-height: 100vh;\n    justify-content: center;\n    align-items: center;\n  }\n\n  @media "," {\n    height: 100vh;\n  }\n"]);return Ye=function(){return n},n}var Ke=new Array(6).fill(0),Ge=Ln,He=Vn.auth.addIdentifier,Je=y,Ze=w,$e=C,Qe=R,Xe=O,_e=z,nt=x.default.div(Ye(),Xe,Je,Ze),et=x.default.div(We(),Je,Ze),tt=x.default.div(qe(),Ze),rt=x.default.div(Fe()),at=x.default.div(Be(),$e,Ze),it=x.default.div(Me()),ot=x.default.input(De(),(function(n){return 60*n.selectedIndex}),(function(n){return n.hideInput?0:1}),Ze,(function(n){return 40*n.selectedIndex})),ct=x.default.div(Ue()),ut=x.default.div(Pe(),_e,Ze),lt=x.default.button(Le(),Qe),st=function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=Object(o.a)(this,(n=Object(c.a)(e)).call.apply(n,[this].concat(i)))).input=s.a.createRef(),t.state={value:"",focused:!1,isNotValid:!1},t.nextPath=function(n,e){t.props.history.push(n,e)},t.handleClick=function(){t.input.current.focus()},t.handleFocus=function(){t.setState({focused:!0})},t.handleBlur=function(){t.setState({focused:!1})},t.handleChange=function(n){var e=n.target.value;t.setState((function(n){return n.value.length>=Ke.length?null:{value:(n.value+e).slice(0,Ke.length),isNotValid:!1}}),(function(){var n=t.state.value;6===n.length&&t.verifyCode(n)}))},t.handleKeyUp=function(n){"Backspace"===n.key&&t.setState((function(n){return{value:n.value.slice(0,n.value.length-1),isNotValid:!1}}))},t.renderBox=function(n,e){return Ke.map((function(t,r){var a=n.length===r,i=n.length===Ke.length&&r===Ke.length-1;return s.a.createElement(at,{key:t+r},n[r],(a||i)&&e&&s.a.createElement(ct,null))}))},t.verifyCode=function(n){var e,r,a,i,o,c,u;return g.a.async((function(l){for(;;)switch(l.prev=l.next){case 0:return e=t.props.history.location.state,r=e.type,a=e.identifier,l.prev=1,l.next=4,g.a.awrap(Ge({code:n,identifier:a}));case 4:if(200!==(i=l.sent).status){l.next=12;break}return l.next=8,g.a.awrap(He(r,a));case 8:200===(o=l.sent).status?(c=o.data.identity.id,t.nextPath("/auth/permissions",{identityId:c})):t.setState({isNotValid:"couldnt add identifier"}),l.next=15;break;case 12:u=i.data.error.description,console.warn("there was a problem verifying code",i),t.setState({isNotValid:u});case 15:l.next=21;break;case 17:l.prev=17,l.t0=l.catch(1),console.warn("something went wrong",l.t0),t.setState({isNotValid:"something went wrong"});case 21:case"end":return l.stop()}}),null,null,[[1,17]])},t}return Object(u.a)(e,n),Object(i.a)(e,[{key:"render",value:function(){var n=this.state,e=n.value,t=n.focused,r=n.isNotValid,a=e.split(""),i=a.length<Ke.length?a.length:Ke.length-1,o=!(a.length<Ke.length);return s.a.createElement(nt,null,s.a.createElement(et,null,s.a.createElement(tt,null,"ENTER YOUR VERIFICATION CODE BELOW"),s.a.createElement(rt,null,s.a.createElement(it,{onClick:this.handleClick},s.a.createElement(ot,{value:"",type:"tel",ref:this.input,onChange:this.handleChange,onKeyUp:this.handleKeyUp,onFocus:this.handleFocus,onBlur:this.handleBlur,selectedIndex:i,hideInput:o}),this.renderBox(a,t)),r&&s.a.createElement(ut,null,r)),s.a.createElement(lt,null,"SEND NEW CODE")))}}]),e}(l.Component),dt=Object(h.e)(st),pt=function(n){function e(){return Object(a.a)(this,e),Object(o.a)(this,Object(c.a)(e).apply(this,arguments))}return Object(u.a)(e,n),Object(i.a)(e,[{key:"componentDidMount",value:function(){var n=this.props.history.location.state;window.postMessage(JSON.stringify(n))}},{key:"render",value:function(){return s.a.createElement("div",null,"Complete")}}]),e}(l.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ft=t(43),ht=(t(74),function(n){function e(){var n,t;Object(a.a)(this,e);for(var r=arguments.length,i=new Array(r),u=0;u<r;u++)i[u]=arguments[u];return(t=Object(o.a)(this,(n=Object(c.a)(e)).call.apply(n,[this].concat(i)))).state={visible:!1},t.toggleLoader=function(n){return t.setState({visible:n})},t}return Object(u.a)(e,n),Object(i.a)(e,[{key:"render",value:function(){var n=this,e=this.state.visible;return s.a.createElement("div",null,s.a.createElement(f.a,null,s.a.createElement(h.a,{exact:!0,path:"/auth",render:function(){return s.a.createElement(ve,{toggleLoader:n.toggleLoader})}}),s.a.createElement(h.a,{path:"/auth/verify",render:function(){return s.a.createElement(dt,{toggleLoader:n.toggleLoader})}}),s.a.createElement(h.a,{path:"/auth/permissions",render:function(){return s.a.createElement(Ve,{toggleLoader:n.toggleLoader})}}),s.a.createElement(h.a,{path:"/auth/complete",component:pt})),e&&s.a.createElement("div",{style:{backgroundColor:"grey",opacity:.6,position:"absolute",top:0,left:0,width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center"}},s.a.createElement(ft.WhisperSpinner,{size:50,color:"white",loading:!0})))}}]),e}(l.Component));p.a.render(s.a.createElement(ht,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(n){n.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.dbd03e5f.chunk.js.map